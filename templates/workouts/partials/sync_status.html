<div 
  {% if sync_in_progress %}
    hx-get="{% url 'workouts:sync_status' %}"
    hx-trigger="every 5s"
    hx-swap="outerHTML"
  {% endif %}
  id="sync-status-container"
  class="flex items-start gap-4 flex-1"
>
  <div class="w-3 h-3 rounded-full mt-1 {% if sync_in_progress %}bg-yellow-500 animate-pulse{% elif peloton_connection and peloton_connection.is_connected %}bg-green-500{% else %}bg-gray-400{% endif %}"></div>
  <div class="flex-1">
    {% if sync_in_progress %}
      <div class="font-semibold text-gray-900 dark:text-white mb-1">
        Sync in Progress
      </div>
      <div class="text-sm text-gray-600 dark:text-gray-400 mb-2">
        Your workouts are being synchronized. This updates automatically.
      </div>
      <div class="flex items-center gap-2 text-xs text-yellow-600 dark:text-yellow-400">
        <svg class="w-4 h-4 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
        </svg>
        <span><strong>Syncing...</strong> Please wait for it to complete.</span>
      </div>
    {% elif sync_cooldown_until %}
      <div class="font-semibold text-gray-900 dark:text-white mb-1">
        Connected to Peloton
      </div>
      <div class="text-sm text-gray-600 dark:text-gray-400 mb-2">
        Your Peloton account is connected.
      </div>
      <div class="flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span><strong>Sync on cooldown:</strong> Please wait {{ cooldown_remaining_minutes }} more minute{{ cooldown_remaining_minutes|pluralize }} before syncing again.</span>
      </div>
    {% elif peloton_connection and peloton_connection.last_sync_at %}
      <div class="font-semibold text-gray-900 dark:text-white mb-1">
        Connected to Peloton
      </div>
      <div class="text-sm text-gray-600 dark:text-gray-400 mb-2">
        Your Peloton account is connected. Click "Sync Workouts" to import your workout history.
      </div>
      <div class="flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>Last sync: <strong>{{ peloton_connection.last_sync_at|date:"M d, Y g:i A" }}</strong></span>
        <span class="text-gray-400">â€¢</span>
        <span>Next sync will be incremental</span>
      </div>
    {% elif peloton_connection %}
      <div class="font-semibold text-gray-900 dark:text-white mb-1">
        Connected to Peloton
      </div>
      <div class="text-sm text-gray-600 dark:text-gray-400 mb-2">
        Your Peloton account is connected. Click "Sync Workouts" to import your workout history.
      </div>
      <div class="flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>First sync will import all your workout history</span>
      </div>
    {% else %}
      <div class="font-semibold text-gray-900 dark:text-white mb-1">Not Connected to Peloton</div>
      <div class="text-sm text-gray-600 dark:text-gray-400">Connect your Peloton account to sync your workout history.</div>
    {% endif %}
  </div>
</div>
