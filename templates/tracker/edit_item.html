{% extends "base.html" %}
{% block title %}Edit Item{% endblock %}

{% block content %}
<div class="dashboard-header">
  <h1>Edit Exercise</h1>
  <p>{{ item.get_day_of_week_display }} â€¢ {{ item.peloton_focus }}</p>
</div>

<div class="dashboard-section" style="max-width: 700px;">
  <div class="dashboard-section-header">
    <div>
      <div class="dashboard-section-title">Exercise Details</div>
      <div class="dashboard-section-subtitle">{{ item.get_day_of_week_display }} â€¢ {{ item.peloton_focus }}</div>
    </div>
    <a class="btn btn-outline-light btn-sm" href="{% url 'tracker:plan_detail' item.weekly_plan_id %}">Back</a>
  </div>

    <div style="margin-bottom: 2rem; padding: 1.5rem; background: var(--dark); border-radius: 0; border: 1px solid var(--border);">
      <div class="fw-bold mb-2" style="color: var(--primary); font-size: 1.25rem;">{{ item.exercise.name }}</div>
      <div class="panel-sub mb-1">{{ item.exercise.position }} â€¢ {{ item.exercise.reps_hold }}</div>
      {% if item.exercise.key_cue %}
        <div class="panel-sub mt-2" style="font-style: italic;">{{ item.exercise.key_cue }}</div>
      {% endif %}

      {% if item.exercise.video_url %}
        <div class="mt-3">
          <button class="btn btn-accent btn-sm"
                  data-video-url="{{ item.exercise.video_url }}"
                  type="button">ðŸ“¹ Watch Video</button>
        </div>
      {% endif %}
    </div>

    <form method="post">
      {% csrf_token %}

      <div style="margin-bottom: 1.5rem;">
        <label>Notes</label>
        {{ form.notes }}
      </div>

      <div style="margin-bottom: 1.5rem;">
        <label>Progression</label>
        {{ form.progression }}
      </div>

      <div class="d-flex gap-2">
        <button class="btn btn-accent" type="submit">Save Changes</button>
        <a class="btn btn-outline-light" href="{% url 'tracker:plan_detail' item.weekly_plan_id %}">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
